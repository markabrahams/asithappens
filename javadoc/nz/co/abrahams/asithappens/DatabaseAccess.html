<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_01) on Fri Sep 01 01:30:54 NZST 2006 -->
<TITLE>
DatabaseAccess
</TITLE>

<META NAME="keywords" CONTENT="nz.co.abrahams.asithappens.DatabaseAccess class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="DatabaseAccess";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../nz/co/abrahams/asithappens/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/Configuration.html" title="class in nz.co.abrahams.asithappens"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/DatabaseCreate.html" title="class in nz.co.abrahams.asithappens"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?nz/co/abrahams/asithappens/DatabaseAccess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseAccess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nz.co.abrahams.asithappens</FONT>
<BR>
Class DatabaseAccess</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>nz.co.abrahams.asithappens.DatabaseAccess</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DatabaseAccess</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Provides the database access layer of the application.
 <p>
 The object is completely stateless, which means that two separate instances
 of the class should return exactly the same results for any given method at
 a given time.  As such, DatabaseAccess objects can be thought of as
 stateless handles to the database.  Other objects should only access the
 database through the interface provided by a DatabaseAccess object.
 <p>
 The database structure is simple.  It consists of three tables:
 <ul>
 <li>sessions
 <li>data
 <li>datatypes
 </ul>
 <p>
 Each data collection instance first creates a new entry in the "sessions"
 table, which contains per-session information.  Subsequent data collection
 occurrences each add an entry to the "data" table.  The "datatypes" table
 contains information about the available data collection types, and how
 many data values are collected for a single poll of a given collection type.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>mark</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#DatabaseAccess()">DatabaseAccess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new DatabaseAccess object.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#addHeading(int, int, java.lang.String)">addHeading</A></B>(int&nbsp;sessionID,
           int&nbsp;set,
           java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Names a data set by adding the name to the "headings" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#addLabel(int, long, double, java.lang.String)">addLabel</A></B>(int&nbsp;sessionID,
         long&nbsp;time,
         double&nbsp;value,
         java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a label to the given session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#addValues(int, int, long, double)">addValues</A></B>(int&nbsp;sessionID,
          int&nbsp;set,
          long&nbsp;time,
          double&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a collected (time,value) pair to the "data" table for the given
 session and data set within that session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#deleteLabel(int, int)">deleteLabel</A></B>(int&nbsp;sessionID,
            int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes the indexed label from the given session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#deleteSession(int)">deleteSession</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes a session from the "sessions" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getCollectingState(int)">getCollectingState</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the collecting state for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getDataTypeID(int)">getDataTypeID</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the data type ID for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getDescription(int)">getDescription</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a textual description of a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getDevice(int)">getDevice</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the device target for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getDirection(int)">getDirection</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the direction of information flow for collection for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getFinishTime(int)">getFinishTime</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the finishing date for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getHeadings(int)">getHeadings</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches data set headings for the given session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/DataLabels.html" title="class in nz.co.abrahams.asithappens">DataLabels</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getLabels(int)">getLabels</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches the set of labels stored for the given session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getNumberOfValues(int, int, long, long)">getNumberOfValues</A></B>(int&nbsp;sessionID,
                  int&nbsp;set,
                  long&nbsp;startTime,
                  long&nbsp;finishTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of data points stored for the given set of a session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getPollInterval(int)">getPollInterval</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the polling interval for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getPort(int)">getPort</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the device port for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getSessionIDs()">getSessionIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a list of the session ID's present in the "sessions" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getStartTime(int)">getStartTime</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the starting date for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getTitle(int)">getTitle</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the user-supplied title for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.ResultSet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getValues(int, long, long)">getValues</A></B>(int&nbsp;sessionID,
          long&nbsp;startTime,
          long&nbsp;finishTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries the "data" table for a set of data values within a given time
 interval.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/DataSet.html" title="class in nz.co.abrahams.asithappens">DataSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getValuesForSet(int, int)">getValuesForSet</A></B>(int&nbsp;sessionID,
                int&nbsp;set)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/DataSet.html" title="class in nz.co.abrahams.asithappens">DataSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#getValuesForSet(int, int, long, long)">getValuesForSet</A></B>(int&nbsp;sessionID,
                int&nbsp;set,
                long&nbsp;startTime,
                long&nbsp;finishTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries the "data" table for a set of data values within a given time
 interval.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#newSession(java.lang.String, long, int, java.lang.String, java.lang.String, int)">newSession</A></B>(java.lang.String&nbsp;device,
           long&nbsp;pollInterval,
           int&nbsp;dataTypeID,
           java.lang.String&nbsp;port,
           java.lang.String&nbsp;title,
           int&nbsp;direction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new session to the "sessions" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#openDatabaseConnection()">openDatabaseConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens a new database connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#sessionExists(int)">sessionExists</A></B>(int&nbsp;sessionID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks for the existence of a session in the "sessions" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#setCollectingState(int, boolean)">setCollectingState</A></B>(int&nbsp;sessionID,
                   boolean&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the collecting state for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#setLabels(int, nz.co.abrahams.asithappens.DataLabels)">setLabels</A></B>(int&nbsp;sessionID,
          <A HREF="../../../../nz/co/abrahams/asithappens/DataLabels.html" title="class in nz.co.abrahams.asithappens">DataLabels</A>&nbsp;labels)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replaces the labels for the given session with a new set of labels.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#setSessionAttribute(int, java.lang.String, java.lang.String)">setSessionAttribute</A></B>(int&nbsp;sessionID,
                    java.lang.String&nbsp;columnName,
                    java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets an attribute of a session in the "sessions" table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#setTitle(int, java.lang.String)">setTitle</A></B>(int&nbsp;sessionID,
         java.lang.String&nbsp;title)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the title for a session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseAccess.html#testConnection()">testConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tests database connectivity and attempts to reconnect if test is
 unsuccessful.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DatabaseAccess()"><!-- --></A><H3>
DatabaseAccess</H3>
<PRE>
public <B>DatabaseAccess</B>()
               throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Creates a new DatabaseAccess object.  Presently, the database must be
 a MySQL database called "asithappens" running on the local host.
 The structure for the "sessions", "data" and "datatypes" tables must be
 set up.  The "datatypes" table needs to fully describe all known data
 types as well.
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="openDatabaseConnection()"><!-- --></A><H3>
openDatabaseConnection</H3>
<PRE>
protected void <B>openDatabaseConnection</B>()
                               throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Opens a new database connection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testConnection()"><!-- --></A><H3>
testConnection</H3>
<PRE>
public void <B>testConnection</B>()
                    throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Tests database connectivity and attempts to reconnect if test is
 unsuccessful.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="newSession(java.lang.String, long, int, java.lang.String, java.lang.String, int)"><!-- --></A><H3>
newSession</H3>
<PRE>
public int <B>newSession</B>(java.lang.String&nbsp;device,
                      long&nbsp;pollInterval,
                      int&nbsp;dataTypeID,
                      java.lang.String&nbsp;port,
                      java.lang.String&nbsp;title,
                      int&nbsp;direction)
               throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Adds a new session to the "sessions" table.  This is typically called
 to initialize a session with a view to storing subsequently collected
 data in the "data" table.  The method makes an assumption that data
 collection will start immediately after the session is created, and
 therefore sets the "collecting" field in the session table to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>device</CODE> - the target device for data collection<DD><CODE>pollInterval</CODE> - the polling interval in milliseconds<DD><CODE>dataTypeID</CODE> - selects a data type from the "datatypes" table<DD><CODE>port</CODE> - a textual description of the device port if
                      appropriate<DD><CODE>title</CODE> - title of the data collection session<DD><CODE>direction</CODE> - direction of information flow on port if appropriate
<DT><B>Returns:</B><DD>the unique key created for the new session or zero
                      if unable to create new entry
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteSession(int)"><!-- --></A><H3>
deleteSession</H3>
<PRE>
public void <B>deleteSession</B>(int&nbsp;sessionID)
                   throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Deletes a session from the "sessions" table.  This also deletes the
 following:
 <ul>
 <li> the data for that session from the "data" table
 <li> the headings for that session from the "headings" table
 <li> the labels for that session from the "labels" table
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session to delete
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setSessionAttribute(int, java.lang.String, java.lang.String)"><!-- --></A><H3>
setSessionAttribute</H3>
<PRE>
public void <B>setSessionAttribute</B>(int&nbsp;sessionID,
                                java.lang.String&nbsp;columnName,
                                java.lang.String&nbsp;value)
                         throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Sets an attribute of a session in the "sessions" table.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>columnName</CODE> - the name of the attribute to set<DD><CODE>value</CODE> - the new value for the attribute
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sessionExists(int)"><!-- --></A><H3>
sessionExists</H3>
<PRE>
public boolean <B>sessionExists</B>(int&nbsp;sessionID)</PRE>
<DL>
<DD>Checks for the existence of a session in the "sessions" table.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session to check</DL>
</DD>
</DL>
<HR>

<A NAME="getDataTypeID(int)"><!-- --></A><H3>
getDataTypeID</H3>
<PRE>
public int <B>getDataTypeID</B>(int&nbsp;sessionID)
                  throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the data type ID for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the data type ID corresponding to the session's type
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDevice(int)"><!-- --></A><H3>
getDevice</H3>
<PRE>
public java.lang.String <B>getDevice</B>(int&nbsp;sessionID)
                           throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the device target for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the device as stored in the "sessions" table (name or
                  IP address)
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPollInterval(int)"><!-- --></A><H3>
getPollInterval</H3>
<PRE>
public long <B>getPollInterval</B>(int&nbsp;sessionID)
                     throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the polling interval for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the polling interval in milliseconds
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPort(int)"><!-- --></A><H3>
getPort</H3>
<PRE>
public java.lang.String <B>getPort</B>(int&nbsp;sessionID)
                         throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the device port for a session.  This will be null if a port is not
 relevant to the data type being collected e.g. the "Response" data type.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the name of the port on the device
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getStartTime(int)"><!-- --></A><H3>
getStartTime</H3>
<PRE>
public long <B>getStartTime</B>(int&nbsp;sessionID)
                  throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the starting date for a session.  The date is expressed as a "long"
 representing the number of milliseconds since midnight, Jan 1, 1970.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the date that the data collection for the session began
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFinishTime(int)"><!-- --></A><H3>
getFinishTime</H3>
<PRE>
public long <B>getFinishTime</B>(int&nbsp;sessionID)
                   throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the finishing date for a session.  The date is expressed as a "long"
 representing the number of milliseconds since midnight, Jan 1, 1970.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the date that the data collection for the session
                  finished
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCollectingState(int)"><!-- --></A><H3>
getCollectingState</H3>
<PRE>
public boolean <B>getCollectingState</B>(int&nbsp;sessionID)
                           throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the collecting state for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>true if data is currently being collected for the
                  session, otherwise false
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTitle(int)"><!-- --></A><H3>
getTitle</H3>
<PRE>
public java.lang.String <B>getTitle</B>(int&nbsp;sessionID)
                          throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the user-supplied title for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the name of the title of the session
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDirection(int)"><!-- --></A><H3>
getDirection</H3>
<PRE>
public int <B>getDirection</B>(int&nbsp;sessionID)
                 throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets the direction of information flow for collection for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the direction of information flow for collection
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSessionIDs()"><!-- --></A><H3>
getSessionIDs</H3>
<PRE>
public int[] <B>getSessionIDs</B>()
                    throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets a list of the session ID's present in the "sessions" table.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an integer array containing all session ID's
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDescription(int)"><!-- --></A><H3>
getDescription</H3>
<PRE>
public java.lang.String <B>getDescription</B>(int&nbsp;sessionID)
                                throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Gets a textual description of a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>a session description
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setCollectingState(int, boolean)"><!-- --></A><H3>
setCollectingState</H3>
<PRE>
public void <B>setCollectingState</B>(int&nbsp;sessionID,
                               boolean&nbsp;state)
                        throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Sets the collecting state for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>state</CODE> - whether or not the session is now collecting
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setTitle(int, java.lang.String)"><!-- --></A><H3>
setTitle</H3>
<PRE>
public void <B>setTitle</B>(int&nbsp;sessionID,
                     java.lang.String&nbsp;title)
              throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Sets the title for a session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>title</CODE> - the title for the session
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfValues(int, int, long, long)"><!-- --></A><H3>
getNumberOfValues</H3>
<PRE>
public int <B>getNumberOfValues</B>(int&nbsp;sessionID,
                             int&nbsp;set,
                             long&nbsp;startTime,
                             long&nbsp;finishTime)
                      throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Returns the number of data points stored for the given set of a session
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>set</CODE> - the
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addValues(int, int, long, double)"><!-- --></A><H3>
addValues</H3>
<PRE>
public boolean <B>addValues</B>(int&nbsp;sessionID,
                         int&nbsp;set,
                         long&nbsp;time,
                         double&nbsp;value)
                  throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Adds a collected (time,value) pair to the "data" table for the given
 session and data set within that session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>set</CODE> - the set number<DD><CODE>time</CODE> - the time of collection<DD><CODE>value</CODE> - value to add
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getValues(int, long, long)"><!-- --></A><H3>
getValues</H3>
<PRE>
public java.sql.ResultSet <B>getValues</B>(int&nbsp;sessionID,
                                    long&nbsp;startTime,
                                    long&nbsp;finishTime)
                             throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Queries the "data" table for a set of data values within a given time
 interval.  The set of results contains tuples of the form
 (position, time, value).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>startTime</CODE> - the start of the time interval<DD><CODE>finishTime</CODE> - the finish of the time interval
<DT><B>Returns:</B><DD>the set of results
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getValuesForSet(int, int, long, long)"><!-- --></A><H3>
getValuesForSet</H3>
<PRE>
public <A HREF="../../../../nz/co/abrahams/asithappens/DataSet.html" title="class in nz.co.abrahams.asithappens">DataSet</A> <B>getValuesForSet</B>(int&nbsp;sessionID,
                               int&nbsp;set,
                               long&nbsp;startTime,
                               long&nbsp;finishTime)
                        throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Queries the "data" table for a set of data values within a given time
 interval.  The set of results contains tuples of the form
 (position, time, value).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>startTime</CODE> - the start of the time interval<DD><CODE>finishTime</CODE> - the finish of the time interval
<DT><B>Returns:</B><DD>the set of results
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getValuesForSet(int, int)"><!-- --></A><H3>
getValuesForSet</H3>
<PRE>
public <A HREF="../../../../nz/co/abrahams/asithappens/DataSet.html" title="class in nz.co.abrahams.asithappens">DataSet</A> <B>getValuesForSet</B>(int&nbsp;sessionID,
                               int&nbsp;set)
                        throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addHeading(int, int, java.lang.String)"><!-- --></A><H3>
addHeading</H3>
<PRE>
public boolean <B>addHeading</B>(int&nbsp;sessionID,
                          int&nbsp;set,
                          java.lang.String&nbsp;name)
                   throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Names a data set by adding the name to the "headings" table.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>set</CODE> - the number of the set to be named<DD><CODE>name</CODE> - the name of the set
<DT><B>Returns:</B><DD>true if the heading name was added successfully
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getHeadings(int)"><!-- --></A><H3>
getHeadings</H3>
<PRE>
public java.lang.String[] <B>getHeadings</B>(int&nbsp;sessionID)
                               throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Fetches data set headings for the given session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>an array of heading names
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addLabel(int, long, double, java.lang.String)"><!-- --></A><H3>
addLabel</H3>
<PRE>
public int <B>addLabel</B>(int&nbsp;sessionID,
                    long&nbsp;time,
                    double&nbsp;value,
                    java.lang.String&nbsp;name)
             throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Adds a label to the given session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>time</CODE> - the time for the mid-point of the label<DD><CODE>value</CODE> - the value for the bottom of the label<DD><CODE>name</CODE> - the text for the label
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteLabel(int, int)"><!-- --></A><H3>
deleteLabel</H3>
<PRE>
public boolean <B>deleteLabel</B>(int&nbsp;sessionID,
                           int&nbsp;index)
                    throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Deletes the indexed label from the given session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>index</CODE> - the unique index for the label
<DT><B>Returns:</B><DD>true upon a successful deletion
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setLabels(int, nz.co.abrahams.asithappens.DataLabels)"><!-- --></A><H3>
setLabels</H3>
<PRE>
public boolean <B>setLabels</B>(int&nbsp;sessionID,
                         <A HREF="../../../../nz/co/abrahams/asithappens/DataLabels.html" title="class in nz.co.abrahams.asithappens">DataLabels</A>&nbsp;labels)
                  throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Replaces the labels for the given session with a new set of labels.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session<DD><CODE>labels</CODE> - the new set of labels for the session
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLabels(int)"><!-- --></A><H3>
getLabels</H3>
<PRE>
public <A HREF="../../../../nz/co/abrahams/asithappens/DataLabels.html" title="class in nz.co.abrahams.asithappens">DataLabels</A> <B>getLabels</B>(int&nbsp;sessionID)
                     throws <A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></PRE>
<DL>
<DD>Fetches the set of labels stored for the given session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionID</CODE> - the unique key for the session
<DT><B>Returns:</B><DD>the set of labels
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/co/abrahams/asithappens/DatabaseException.html" title="class in nz.co.abrahams.asithappens">DatabaseException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../nz/co/abrahams/asithappens/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/Configuration.html" title="class in nz.co.abrahams.asithappens"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/co/abrahams/asithappens/DatabaseCreate.html" title="class in nz.co.abrahams.asithappens"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?nz/co/abrahams/asithappens/DatabaseAccess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseAccess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
